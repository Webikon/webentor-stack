import{_ as t,o as i,c as o,ag as a}from"./chunks/framework.DEqXEGcv.js";const p=JSON.parse('{"title":"Theme Architecture","description":"","frontmatter":{},"headers":[],"relativePath":"architecture/theme-architecture.md","filePath":"architecture/theme-architecture.md","lastUpdated":1771672675000}'),r={name:"architecture/theme-architecture.md"};function l(s,e,c,d,n,h){return i(),o("div",null,[...e[0]||(e[0]=[a('<h1 id="theme-architecture" tabindex="-1">Theme Architecture <a class="header-anchor" href="#theme-architecture" aria-label="Permalink to &quot;Theme Architecture&quot;">​</a></h1><p>High-level overview of how Webentor Core integrates with a Sage theme.</p><h2 id="boot-flow" tabindex="-1">Boot flow <a class="header-anchor" href="#boot-flow" aria-label="Permalink to &quot;Boot flow&quot;">​</a></h2><ul><li>init.php: defines paths and loads Core modules (blocks, images, utils, build glue).</li><li>Block registration: scans <code>resources/blocks/**/block.json</code> in theme and Core, registers each block.</li><li>Frontend assets: for each block, matches Vite manifest to add <code>script.ts</code> and <code>style.css</code> handles, injected into block metadata.</li><li>Server-side rendering: blocks render via Blade views (<code>resources/blocks/&lt;slug&gt;/view.blade.php</code>) with computed classes and optional <code>additional_data</code>.</li></ul><h2 id="editor-boot" tabindex="-1">Editor boot <a class="header-anchor" href="#editor-boot" aria-label="Permalink to &quot;Editor boot&quot;">​</a></h2><ul><li>Theme editor entry (<code>resources/scripts/editor.ts</code>) imports Core editor filters/components and auto-imports all <code>*.block.tsx</code> files.</li><li>JS filters provide Tailwind-like tokens (<code>twTheme</code>), breakpoints, and extend UI (button variants, display settings, icon picker colors).</li></ul><h2 id="rendering-pipeline-frontend" tabindex="-1">Rendering pipeline (frontend) <a class="header-anchor" href="#rendering-pipeline-frontend" aria-label="Permalink to &quot;Rendering pipeline (frontend)&quot;">​</a></h2><ol><li>A Gutenberg block is parsed on the server.</li><li>Core computes wrapper and background classes from attributes and breakpoints.</li><li>Blade view is selected from theme (override) or Core and rendered.</li><li><code>render_blade_block</code> filters can post-process the final HTML.</li></ol><h2 id="categories-and-patterns" tabindex="-1">Categories and patterns <a class="header-anchor" href="#categories-and-patterns" aria-label="Permalink to &quot;Categories and patterns&quot;">​</a></h2><ul><li>Adds Webentor block categories (<code>webentor-blocks</code>, <code>webentor-elements</code>, <code>webentor-layout</code>).</li><li>Removes selected core patterns; adds Webentor pattern categories.</li></ul><h2 id="visibility" tabindex="-1">Visibility <a class="header-anchor" href="#visibility" aria-label="Permalink to &quot;Visibility&quot;">​</a></h2><ul><li>If the Block Visibility plugin is present, Core respects its settings and augments classes when visible.</li></ul><h2 id="images" tabindex="-1">Images <a class="header-anchor" href="#images" aria-label="Permalink to &quot;Images&quot;">​</a></h2><ul><li>PHP helpers support Cloudinary fetch URLs and <code>&lt;img&gt;/&lt;picture&gt;</code> HTML, with graceful fallbacks to WP/BIS.</li></ul><h2 id="key-files" tabindex="-1">Key files <a class="header-anchor" href="#key-files" aria-label="Permalink to &quot;Key files&quot;">​</a></h2><ul><li><code>webentor-core/app/blocks-init.php</code> - registration + SSR + categories</li><li><code>webentor-core/docs/*</code> - this documentation</li><li><code>resources/scripts/editor.ts</code> - theme editor entry</li></ul>',16)])])}const b=t(r,[["render",l]]);export{p as __pageData,b as default};
